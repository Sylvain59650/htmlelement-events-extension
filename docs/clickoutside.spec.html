<html>

<head>
  <link rel="stylesheet" type="text/css" href="3parts/iziToast.min.css?v=130c">
  <script src="3parts/iziToast.min.js?v=130c" type="text/javascript"></script>
  <link rel="stylesheet" type="text/css" href="demo.css" />
</head>

<body>
  <style>
    #t1 {
      border: solid 2px gray
    }
    
    #d2 {
      border: solid 2px green
    }
    
    #dd2 {
      border: solid 1px blue
    }
    
    #d3 {
      border: solid 2px red;
      min-height: 50px;
    }
  </style>

  <script src="node_modules/htmlelement-events/distrib/htmlElement-events.min.js"></script>

  <div class="breadcrumb">
    <a class="breadcrumb" href="index.html">Home</a> &gt;
    <h1 class="breadcrumb">Demo for clickoutside</h1>
  </div>


  <input type="text" id="t1" value="t1" />
  <hr/>
  <div id="d2">
    I'm d2, click on me then outside me and observe event fired
    <div id="dd2">123</div>
    <div>456</div>
  </div>

  <hr/>
  <button id="b1">Click for register Click ouside on d3 ONCE</button>
  <div id="d3">I'm d3
    <div>789</div>
    <div><span>658</span></div>
  </div>
  <hr/>
  <button id="b2">Off</button>
  <script>
    function trace1() {
      iziToast.success({
        title: "Event",
        message: "t1.clickoutside() fired",
        timeout: 3500,
        backgrouncColor: "gray"
      });
    }

    function trace2() {
      iziToast.success({
        title: "Event",
        message: "d2.clickoutside() fired",
        timeout: 3500,
        backgroundColor: "blue"
      });
    }

    function trace3(e) {
      iziToast.success({
        title: "Event",
        message: "d3.clickoutside() fired",
        timeout: 3500,
        backgroundColor: "red"
      });
    }

    function trace4(e) {
      iziToast.success({
        title: "Event",
        message: "document.click() fired",
        timeout: 3500,
        backgroundColor: "orange"
      });
    }

    function off(e) {
      document.querySelector("#t1").off("clickoutside");
      document.querySelector("#d2").off("clickoutside");
      document.querySelector("#d3").off("clickoutside");
    }

    document.querySelector("#t1").on("clickoutside", trace1);
    document.querySelector("#d2").on("clickoutside", trace2);

    document.querySelector("#b1").on("click", function(e) {
      document.querySelector("#d3").on("clickoutside", trace3, {
        once: true
      });
    });

    document.querySelector("#b2").on("click", function(e) {
      off(e);
    });

    document.on("click", trace4);
  </script>
</body>

</html>